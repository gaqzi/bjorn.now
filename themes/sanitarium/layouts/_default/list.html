{{ define "title" }}{{ if eq .Kind "term" }}#{{ .Data.Term }} - {{ end }}{{ .Title }} - {{ .Site.Title }}{{ end }}

{{ define "main" }}
<header>
    <h1>{{ if eq .Kind "term" }}#{{ .Data.Term }}{{ else }}{{ .Title }}{{ end }}</h1>

    {{ $tagDescription := "" }}
    {{ if .Data.Term }}
        {{ with index site.Data.tags .Data.Term }}
            {{ $tagDescription = .description }}
        {{ end }}
    {{ end }}
    {{ $description := or .Description $tagDescription }}
    {{ with $description }}
        <div class="description">{{ . |safeHTML }}</div>
    {{ end }}
</header>

{{ if .Content }}
<div class="content">
    {{ .Content }}
</div>
{{ end }}

{{ partial "list.html" . -}}
{{ end }}
