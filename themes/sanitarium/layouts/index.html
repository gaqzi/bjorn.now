{{ define "title" }}{{ .Site.Title }}{{ end }}

{{ define "main" }}
<div class="home-content">
    {{ with .Content }}
    <div class="home-intro">
        {{ . }}
    </div>
    {{ end }}

    <div class="recent-posts">
        <h2>Recent Posts</h2>
        {{ $posts := where (where .Site.RegularPages "Section" "blog") "IsPage" true }}
        {{ range first 5 $posts }}
        {{ partial "article-summary.html" (dict "headingLevel" "h3" "Title" .Title "Permalink" .Permalink "Params" .Params "Description" .Description "Summary" .Summary "Date" .Date "Lastmod" .Lastmod "Site" .Site) }}
        {{ end }}

        <p class="all-posts-link">
            <a href="/blog/">View all posts â†’</a>
        </p>
    </div>
</div>
{{ end }}
