:root {
    /* System font stacks from systemfontstack.com */
    --system-sans: Avenir, Montserrat, Corbel, 'URW Gothic', source-sans-pro, sans-serif, var(--main-emoji-font-family); /* Geometric Humanist */
    --system-serif: Charter, 'Bitstream Charter', 'Sitka Text', Cambria, serif, var(--main-emoji-font-family); /* Transitional */
    --system-mono: "Source Code Pro", Menlo, Consolas, Monaco, Liberation Mono, Lucida Console, monospace;

    /* Use the font stacks */
    --main-heading-font-weight: 800;
    --main-monospace-font-family: var(--system-mono);
    --main-code-highlight-bg-color: #eee;
    --main-code-highlight-fg-color: #121212;

    /* RGB values for colors (for rgba usage) */
    --border-color-standard-rgb: 136, 136, 136; /* Match the hex #888888 */

    /* Accent colors for light/dark modes - using system color keywords */

    /* Quote styling variables */
    --quote-bg-color-light: #f5f5f5;
    --quote-text-color-light: #121212;
    --quote-border-color-light: var(--accent-color-light);

    --quote-bg-color-dark: #2a2a2a;
    --quote-text-color-dark: white;
    --quote-border-color-dark: var(--accent-color-dark);

    /* Code styling variables */
    --code-inline-bg-light: rgba(175, 184, 193, 0.4);
    --code-inline-fg-light: #24292f;
    --code-inline-border-light: rgba(175, 184, 193, 0.6);

    --code-inline-bg-dark: rgba(110, 118, 129, 0.4);
    --code-inline-fg-dark: #e6edf3;
    --code-inline-border-dark: rgba(139, 148, 158, 0.6);

    --quote-border-width: 4px;
    --quote-mark-color-dark: #5e5e5e;
    --quote-mark-color-light: #ccc;
    --quote-mark-opacity: 0.8;

    /* Meta information styling */
    --text-meta-opacity: 0.8;
    --text-meta-color-dark: #ccc;
    --text-meta-color-light: #666;

    /* Border variables */
    --border-color-light: white;

    /* Spacing variables for consistency */
    --space-xl: 4rem;

    /* Content block margin for consistent alignment */
    --content-block-margin: var(--space-md) var(--space-lg);

    /* Default to dark mode values */
    --quote-bg-color: var(--quote-bg-color-dark);
    --quote-text-color: var(--quote-text-color-dark);
    --quote-border-color: var(--quote-border-color-dark);
    --code-inline-bg: var(--code-inline-bg-dark);
    --code-inline-fg: var(--code-inline-fg-dark);
    --code-inline-border: var(--code-inline-border-dark);
    --text-meta-color: var(--text-meta-color-dark);

    /* Computed variables for specific styles */
    --quote-mark-color: var(--quote-mark-color-dark);
    --button-bg: rgba(255, 255, 255, 0.08);
    --button-hover-bg: rgba(255, 255, 255, 0.15);
    --button-filter: none;
    --pagination-active-bg: var(--accent-color-dark);
    --heading-anchor-hover-color: var(--accent-color-dark);

    /* SVG icons as data URIs - using rgba for better color control */
    --icon-calendar-light: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="rgba(0,0,0,0.6)" d="M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"/></svg>');
    --icon-clock-light: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="rgba(0,0,0,0.6)" d="M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"/></svg>');
    --icon-pen-light: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="rgba(0,0,0,0.6)" d="M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"/></svg>');
    --icon-arrow-left-light: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="rgba(179,0,0,1)" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>');
    --icon-arrow-right-light: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="rgba(179,0,0,1)" d="M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 179 32 179c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 348.7c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"/></svg>');
    --icon-email-light: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="white" d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"/></svg>');

    --icon-calendar-dark: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="rgba(255,255,255,0.7)" d="M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"/></svg>');
    --icon-clock-dark: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="rgba(255,255,255,0.7)" d="M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"/></svg>');
    --icon-pen-dark: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="rgba(255,255,255,0.7)" d="M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"/></svg>');
    --icon-arrow-left-dark: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="rgba(158,158,255,1)" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>');
    --icon-arrow-right-dark: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="rgba(158,158,255,1)" d="M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 179 32 179c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 348.7c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"/></svg>');
    --icon-email-dark: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="white" d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"/></svg>');

    /* Default to dark mode icons */
    --icon-calendar: var(--icon-calendar-dark);
    --icon-clock: var(--icon-clock-dark);
    --icon-pen: var(--icon-pen-dark);
    --icon-arrow-left: var(--icon-arrow-left-dark);
    --icon-arrow-right: var(--icon-arrow-right-dark);
    --icon-email: var(--icon-email-dark);

    /* Combined media query for system preference and forced light mode */
    @media (prefers-color-scheme: light), (color-scheme: light) {
        --quote-bg-color: var(--quote-bg-color-light);
        --quote-text-color: var(--quote-text-color-light);
        --quote-border-color: var(--quote-border-color-light);
        --code-inline-bg: var(--code-inline-bg-light);
        --code-inline-fg: var(--code-inline-fg-light);
        --code-inline-border: var(--code-inline-border-light);
        --text-meta-color: var(--text-meta-color-light);

        /* Computed variables for light mode */
        --quote-mark-color: var(--quote-mark-color-light);
        --button-bg: rgba(0, 0, 0, 0.05);
        --button-hover-bg: rgba(0, 0, 0, 0.1);
        --button-filter: brightness(0.2);
        --pagination-active-bg: var(--accent-color-light);
        --heading-anchor-hover-color: var(--accent-color-light);

        --icon-calendar: var(--icon-calendar-light);
        --icon-clock: var(--icon-clock-light);
        --icon-pen: var(--icon-pen-light);
        --icon-arrow-left: var(--icon-arrow-left-light);
        --icon-arrow-right: var(--icon-arrow-right-light);
        --icon-email: var(--icon-email-light);
    }

}

h1, h2, h3, h4, h5, h6 {
    & a {
        text-decoration: none;

        &:hover {
            text-decoration: underline;
        }
    }

    &.title a, &.title a:visited {
        color: CanvasText;
    }
}

/* Fluid typography using clamp for better responsiveness */
h4 { font-size: clamp(1.125rem, 1rem + 0.5vw, 1.35rem); }
h5 { font-size: 1.125rem; }
h6 { font-size: 1rem; }

hgroup {
    & h1:has(+ p),h2:has(+ p),h3:has(+ p),h4:has(+ p),h5:has(+ p),h6:has(+ p) {
        margin-bottom: 0em;
    }

    & h1 + p, & h2 + p, & h3 + p, & h4 + p, & h5 + p, & h6 + p {
        margin-top: 0em;
        margin-bottom: var(--space-md);
        font-size: 1.25em;
        color: rgba(CanvasText, 0.85);
        font-weight: normal;
        line-height: 1.4;
    }
}

/* Use a block layout instead of grid for sequential content flow */

header.masthead {
    & a {
        transition: color 0.2s ease;

        &:hover {
            color: var(--main-accent-color);
        }
    }
}


article {
    & header {
        margin-bottom: var(--space-xs);
        padding-bottom: 0;
    }

    /* the bottom border doesn't make sense when looking at the banner */
    &.banner header {
        border-bottom: none;
    }

    & .meta {
        font-style: italic;
    }

    .content p:first-child {
        margin-top: 0;
    }
}

/* Next/previous buttons below the post */
.post-nav {
    margin-top: calc(var(--space-md) + var(--space-sm)); /* 1.5rem total */
    margin-bottom: 0;
    padding: 0 2em;
    display: flex;
    justify-content: space-between;
    gap: var(--space-md);
    font-size: 1rem;
}

.post-nav-link {
    flex: 1;
    line-height: 1.4;
    min-height: 44px;
    display: block;
    position: relative;

    &.prev::before,
    &.next::after {
        content: '';
        background-size: 16px 16px;
        background-repeat: no-repeat;
        background-position: center;
        width: 16px;
        height: 16px;
        display: inline-block;
        position: absolute;
        top: 0.3em;
    }

    &.prev::before {
        background-image: var(--icon-arrow-left);
        left: -1.5em;
    }

    &.next::after {
        background-image: var(--icon-arrow-right);
        right: -1.5em;
    }

    .post-nav-subtitle, &:hover .post-nav-subtitle {
        color: CanvasText; /* Make subtitle white/normal on hover */
    }
}

.post-nav-title {
    font-weight: 600;
    margin-bottom: var(--space-xs);
    display: inline;
}

.post-nav-subtitle {
    font-size: 0.9em;
    color: rgba(CanvasText, 0.7);
    font-style: italic;
    display: block;
    margin-top: var(--space-xs);
}

/* Move the banner down a bit for some breathing room */
body:has(main article.banner) {
    padding-top: 15%;
}

/** Tags **/
.post-tags {
    margin-top: var(--space-sm);

    ul {
        list-style: none;
        padding: 0;
        margin: 0;
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
    }

    li {
        margin: 0;
    }
}

/* Context: Full article page */
.single .post-tags {
    margin-top: var(--space-md);
    margin-bottom: var(--space-md);
    gap: var(--space-sm);

    a {
        color: var(--text-meta-color) !important;
        opacity: var(--text-meta-opacity);
        text-decoration: none !important;
        font-size: 0.85em;
        font-weight: 500;
        padding: 0.3em 0.8em;
        border-radius: 6px;
        transition: all 0.2s ease;
        display: inline-block;
        background-color: var(--button-bg);
        filter: var(--button-filter);

        &:hover {
            background-color: var(--button-hover-bg) !important;
            filter: var(--button-filter);
        }
    }
}

/* Context: Article listing */

.article-list {
    & .day__date {
        text-align: left;
        margin: 2rem 0 1.5rem;
        position: relative;
        color: var(--text-meta-color);
        opacity: var(--text-meta-opacity);
        font-weight: normal;
        
        /* Enhanced styling for linked day headers */
        & a.daily-link {
            color: inherit;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: var(--space-xs);
            padding: var(--space-xxs, 0.125rem) var(--space-xs);
            border-radius: 4px;
            transition: all 0.2s ease;
            
            &:hover {
                color: var(--main-accent-color);
                background-color: var(--button-bg);
                text-decoration: none;
                opacity: 1;
            }
        }
    }
}


/** /Tags **/

/* Article listing styles */
.article-list {
    & article {
        a h1, a h2, a h3, a h4, a h5, a h6, .subtitle {
            color: CanvasText;
        }

        a:hover h1, a:hover h2, a:hover h3, a:hover h4, a:hover h5, a:hover h6 {
            color: var(--main-accent-color);
        }

        .post-preview p:first-child {
            margin-top: 0;
        }
    }
}

/* Recent posts styles */
.recent-posts article {
    margin-bottom: var(--space-lg);
    padding-bottom: var(--space-md);
    border-bottom: 1px solid rgba(128, 128, 128, 0.2);

    &:last-child {
        border-bottom: none;
    }
}

.all-posts-link {
    margin-top: var(--space-lg);
    text-align: right;

    & a {
        font-weight: 600;
        font-family: var(--main-heading-font-family);
    }
}

/* Make images responsive and centered by default */
img {
    max-width: 100%;
    height: auto;
    display: block;
    margin: var(--space-md) auto; /* Auto left/right margins center the image */
}

/* Optional classes to override default image behavior */
.img-left {
    margin-left: 0;
    margin-right: auto;
}

.img-right {
    margin-left: auto;
    margin-right: 0;
}

.img-fixed {
    max-width: none;
    width: auto;
}

/* Code styling */
code, pre, kbd, samp {
    font-family: var(--main-monospace-font-family);
}

code.language-plaintext {
    padding: 0;
    font-size: .875em;
    border-radius: 3px;
    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
    letter-spacing: -0.05em;
}

code:not(pre code) {
    background-color: var(--code-inline-bg);
    color: var(--code-inline-fg);
    padding: 0.1em 0.2em;
    font-size: .875em;
    border-radius: 2px;
    border-bottom: 1px solid var(--code-inline-border);
    letter-spacing: -0.05em;
}

/* Shared styles for content blocks */
blockquote, .highlight {
    position: relative;
    margin: var(--content-block-margin);
    border-radius: 3px;
    overflow: hidden;
}

/* Quote styling - using negative z-index approach with CSS variables */
blockquote {
    position: relative;
    padding: 0;
    border-left: none;
    margin: var(--content-block-margin);
    border-radius: 3px;
    overflow: hidden;

    /* Background container */
    &::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: var(--quote-bg-color);
        z-index: -1;  /* Puts this at the bottom layer */
    }

    /* Quotation mark */
    &::after {
        content: '\201c';
        font-family: 'Times New Roman', serif;
        position: absolute;
        font-size: 6em;
        left: 0.1em;
        top: -0.3em;
        color: var(--quote-mark-color);
        opacity: var(--quote-mark-opacity);
        z-index: 0;  /* Middle layer between background and content */
        pointer-events: none;
    }

    /* Text content */
    & p {
        position: relative;
        background-color: transparent; /* No background on paragraph */
        color: var(--quote-text-color);
        padding: 1.5em 1em 1em calc(1.5em + 5px);
        margin: 0;
        font-style: italic;
        z-index: 1;  /* Top layer ensures text is always visible */

        &::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: var(--quote-border-width);
            background-color: var(--quote-border-color);
        }
    }

    & a {
        color: var(--main-accent-color);
        font-weight: 600;
    }
}

/* Code block styling */
.highlight pre.highlight {
    padding: 1em 1em 1em 1.5em; /* Adjusted left padding to match blockquote */
    margin: 0;
    overflow-x: auto;
    tab-size: 2;
    font-size: 1.05em; /* Slightly larger to compensate for visual difference */
}

pre code {
    line-height: 1.5;
}

footer {
    visibility: visible;
    height: auto;

    text-align: center;
    padding: var(--space-md) 0;
    margin-top: var(--space-lg);
    border-top: var(--border-width-standard) solid var(--border-color-standard);
}

ul.social-links {
    list-style: none;
    padding: 0;
    display: flex;
    justify-content: center;
    gap: 1.5rem;
    margin: var(--space-md) 0;
}

.social-link {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 3rem;
    width: 3rem;
    background-size: 1.8rem 1.8rem;
    background-repeat: no-repeat;
    background-position: center;
    border-radius: 8px;
    transition: background-color 0.2s ease;
    background-color: var(--button-bg);
    filter: var(--button-filter);

    &:hover {
        background-color: var(--button-hover-bg);
        filter: var(--button-filter);
    }
}

.feed {
    background-size: 2em 2em;
    background-image: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--> <path fill="white" d="M0 64C0 46.3 14.3 32 32 32c229.8 0 416 186.2 416 416c0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96C14.3 96 0 81.7 0 64zM0 416a64 64 0 1 1 128 0A64 64 0 1 1 0 416zM32 160c159.1 0 288 128.9 288 288c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224c-17.7 0-32-14.3-32-32s14.3-32 32-32z"/> </svg>');
}

.mastodon {
    background-image: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--> <path fill="white" d="M433 179.1c0-97.2-63.7-125.7-63.7-125.7-62.5-28.7-228.6-28.4-290.5 0 0 0-63.7 28.5-63.7 125.7 0 115.7-6.6 259.4 105.6 289.1 40.5 10.7 75.3 13 103.3 11.4 50.8-2.8 79.3-18.1 79.3-18.1l-1.7-36.9s-36.3 11.4-77.1 10.1c-40.4-1.4-83-4.4-89.6-54a102.5 102.5 0 0 1 -.9-13.9c85.6 20.9 158.7 9.1 178.8 6.7 56.1-6.7 105-41.3 111.2-72.9 9.8-49.8 9-121.5 9-121.5zm-75.1 125.2h-46.6v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.3V197c0-58.5-64-56.6-64-6.9v114.2H90.2c0-122.1-5.2-147.9 18.4-175 25.9-28.9 79.8-30.8 103.8 6.1l11.6 19.5 11.6-19.5c24.1-37.1 78.1-34.8 103.8-6.1 23.7 27.3 18.4 53 18.4 175z"/> </svg>');
}

.github {
    background-image: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--> <path fill="white" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/> </svg>');
}

.email {
    background-image: var(--icon-email);
}

/* Icon classes for metadata */
.icon-calendar::before,
.icon-clock::before,
.icon-pen::before {
    content: '';
    display: inline-block;
    width: 16px;
    height: 16px;
    margin-right: 0.5em;
    background-repeat: no-repeat;
    background-position: center;
    background-size: 16px 16px;
    vertical-align: text-bottom;
}

.icon-calendar::before {
    background-image: var(--icon-calendar);
}

.icon-clock::before {
    background-image: var(--icon-clock);
}

.icon-pen::before {
    background-image: var(--icon-pen);
}

/* Accessibility improvements */
:focus {
    outline: 2px solid var(--main-accent-color);
    outline-offset: 2px;
}

@media (prefers-reduced-transparency: reduce) {
    :focus {
        outline: 2px solid var(--main-accent-color);
        background-color: rgba(0, 92, 184, 0.1);
    }
}

@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

/* Link styling */
header.masthead a,
.post-nav-link,
.social-link,
.article-list h1 a,
a:has(hgroup){
    text-decoration: none;
}

/* Small phones (portrait) */
@media (max-width: 30rem) {
    header.masthead {
        padding: var(--space-sm) 0;
    }

    blockquote, .highlight {
        margin-left: var(--space-sm);
        margin-right: var(--space-sm);
    }
}

/* Large phones and small tablets */
@media (min-width: 30.01rem) and (max-width: 48rem) {
    body {
        max-width: 100%;
        padding: 0 var(--space-md);
    }

    main {
        max-width: 65ch;
        margin: 0 auto;
    }
}

/* Medium devices (tablets, 48.01rem and up) */
@media (min-width: 48.01rem) and (max-width: 64rem) {
    body {
        max-width: 60ch;
    }
}

/* Large devices (desktops, 64.01rem and up) */
@media (min-width: 64.01rem) {
    body {
        max-width: 65ch;
    }
}

/* Print styles */
@media print {
    body {
        max-width: 100%;
    }

    pre, code {
        white-space: pre-wrap;
        word-break: break-all;
    }

    a::after {
        content: " (" attr(href) ")";
        font-size: 0.9em;
    }

    @page {
        margin: 1.5cm;
    }

    .social-links {
        display: none;
    }
}

/* Custom styling for post listings */

.recent-posts article:last-of-type,
.article-list article:last-of-type {
    border-bottom: none;
}

.recent-posts h3,
.article-list h2 {
    margin-bottom: var(--space-xs);
}

.meta {
    color: var(--text-meta-color);
    opacity: var(--text-meta-opacity);
    display: flex;
    align-items: center;
    gap: var(--space-sm);

    & .icon-calendar::before,
    & .icon-clock::before,
    & .icon-pen::before {
        margin-top: -0.2em;
    }
}

.meta-avatar {
    flex-shrink: 0;
}

.author,
.meta a {
    font-weight: normal;
    color: var(--text-meta-color) !important;
    text-decoration: none !important;
    font-style: normal;

    &:hover {
        color: var(--main-accent-color) !important; /* Only show accent on hover */
        text-decoration: underline;
    }
}

.meta-avatar img {
    width: 3em;
    height: 3em;
    border-radius: 6px;
    object-fit: cover;
    object-position: center;
    flex-shrink: 0;
    margin: 0;
}

.meta-content {
    flex: 1;
}

.meta-line {
    margin-bottom: var(--space-xs);
}

.meta-line:last-child {
    margin-bottom: 0;
}

.meta .updated-separator {
    margin: 0 0.5em;
    opacity: 0.6;
}

/* Icon styles */
.icon-calendar::before,
.icon-clock::before,
.icon-pen::before {
    content: '';
    display: inline-block;
    width: 16px;
    height: 16px;
    margin-right: 0.25em;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    vertical-align: middle;
}

.icon-calendar::before {
    background-image: var(--icon-calendar);
}

.icon-clock::before {
    background-image: var(--icon-clock);
}

.icon-pen::before {
    background-image: var(--icon-pen);
}

.post-preview {
    margin-bottom: var(--space-xs);
    line-height: 1.5;
    color: var(--text-color);
}

.read-more {
    font-size: 0.9em;
    text-align: right;
    margin-top: var(--space-xs);
}

/* Pagination styling */
ul.pagination {
    display: flex;
    list-style: none;
    padding: 0;
    margin: var(--space-lg) 0;
    justify-content: center;
    gap: 0.25rem;
}

.pagination li {
    margin: 0;
}

/* Base styles for all pagination elements */
.pagination a,
.pagination .page-link {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.5rem 0.75rem;
    min-width: 2.5rem;
    height: 2.5rem;
    text-align: center;
    border-radius: 4px;
    font-family: var(--system-sans);
    text-decoration: none;
    transition: background-color 0.2s ease;
}

/* Regular pagination links */
.pagination a:not(.active):not([aria-disabled="true"]) {
    background-color: rgba(var(--border-color-standard-rgb), 0.1);
    color: var(--main-accent-color);
}

.pagination a:hover:not([aria-disabled="true"]) {
    background-color: rgba(var(--border-color-standard-rgb), 0.2);
    text-decoration: none;
}

/* Active pagination state */
.pagination .active a,
.pagination .page-item.active .page-link {
    background-color: var(--button-bg);
    color: CanvasText;
    font-weight: bold;
}

/* Disabled pagination state */
.pagination [aria-disabled="true"],
.pagination .disabled .page-link {
    background-color: rgba(var(--border-color-standard-rgb), 0.05);
    color: CanvasText;
    cursor: not-allowed;
}

/* Daily Taxonomy Styles */

/* Daily navigation */
.day-navigation {
    margin: var(--space-lg) 0;
    text-align: center;
    border-top: 1px solid rgba(var(--border-color-standard-rgb), 0.2);
    border-bottom: 1px solid rgba(var(--border-color-standard-rgb), 0.2);
    padding: var(--space-md) 0;
}

.day-navigation-links {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--space-md);
    max-width: 20rem;
    margin: 0 auto;
}

.day-navigation-links a {
    display: inline-flex;
    align-items: center;
    gap: var(--space-xs);
    padding: var(--space-sm) var(--space-md);
    background-color: var(--button-bg);
    border-radius: 6px;
    text-decoration: none;
    font-family: var(--system-sans);
    font-weight: 500;
    color: var(--text-meta-color);
    opacity: var(--text-meta-opacity);
    transition: all 0.2s ease;
    filter: var(--button-filter);
    
    &:hover {
        background-color: var(--button-hover-bg);
        color: var(--main-accent-color);
        opacity: 1;
        text-decoration: none;
    }
}

/* Daily terms list */
.daily-terms-list {
    margin: var(--space-lg) 0;
    display: grid;
    gap: var(--space-sm);
}

.daily-term {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-sm) var(--space-md);
    background-color: var(--button-bg);
    border-radius: 6px;
    transition: all 0.2s ease;
    filter: var(--button-filter);
    
    &:hover {
        background-color: var(--button-hover-bg);
        transform: translateY(-1px);
    }
    
    & a {
        color: var(--text-meta-color);
        text-decoration: none;
        font-family: var(--system-sans);
        font-weight: 500;
        opacity: var(--text-meta-opacity);
        
        &:hover {
            color: var(--main-accent-color);
            opacity: 1;
            text-decoration: none;
        }
    }
    
    .term-count {
        font-size: 0.9em;
        color: var(--text-meta-color);
        opacity: calc(var(--text-meta-opacity) * 0.8);
    }
}

.daily-stats {
    color: var(--text-meta-color);
    font-style: italic;
    margin: var(--space-md) 0 var(--space-lg);
    opacity: var(--text-meta-opacity);
    text-align: center;
}

/* Ensure anchors are positioned correctly when navigating to them */
h1[id],
h2[id],
h3[id],
h4[id],
h5[id],
h6[id] {
    scroll-margin-top: 1em;
}
